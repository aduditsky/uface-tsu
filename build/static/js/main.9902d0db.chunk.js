(this["webpackJsonpface-elook-app"]=this["webpackJsonpface-elook-app"]||[]).push([[0],{10:function(e,t,a){e.exports={header:"Enter_header__1L4iN",label:"Enter_label__3v4EK",Button:"Enter_Button__qDJvV",Disabled:"Enter_Disabled__7QPhw",passLink:"Enter_passLink__19BCM",registration:"Enter_registration__WUMps",regBtn:"Enter_regBtn__1u3rl",passLink2:"Enter_passLink2__3xR5a",formInput:"Enter_formInput__3vKs-"}},11:function(e,t,a){e.exports={header:"FormPart1_header__2qw2_",formInput:"FormPart1_formInput__1HkTx",inputs:"FormPart1_inputs__2Unoz",formSelect:"FormPart1_formSelect__3FaUA",enterBtn:"FormPart1_enterBtn__29-J1",passwordRequirements:"FormPart1_passwordRequirements__1CFj0",snameLabel:"FormPart1_snameLabel__uM-xh",checkbox:"FormPart1_checkbox__2Z3uZ",checkboxText:"FormPart1_checkboxText__ztBlz",checkboxNative:"FormPart1_checkboxNative__P_6e4",Button:"FormPart1_Button__TloU8",Disabled:"FormPart1_Disabled__34RiC"}},12:function(e,t,a){e.exports={header:"FormPart2_header__iZyPb",image:"FormPart2_image__1aKNC",buttons:"FormPart2_buttons__28flB",photoInstruction:"FormPart2_photoInstruction__1q_B_",disabledButtons:"FormPart2_disabledButtons__20x2a",nextBtn:"FormPart2_nextBtn__342FU",label:"FormPart2_label__1qDvV",ok_icon:"FormPart2_ok_icon__6RDJU",app:"FormPart2_app__3O45t",RingCount:"FormPart2_RingCount__1zLU4",UploadPhoto:"FormPart2_UploadPhoto__3tL05",lines:"FormPart2_lines__uPxnw",secondLines:"FormPart2_secondLines__rn0I5",smile:"FormPart2_smile__23AAi",smileSpan:"FormPart2_smileSpan__2QyDE",startPhoto:"FormPart2_startPhoto__31AJI",timer:"FormPart2_timer__2--CL",takePhotoButton:"FormPart2_takePhotoButton__2skg8",button:"FormPart2_button__SZfuk",disabled:"FormPart2_disabled__1_q6x",loader:"FormPart2_loader__3A0d0",load7:"FormPart2_load7__23qA4"}},124:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(64),s=a.n(r),c=(a(79),a(80),a.p+"static/media/tsu_logo.dbfe536c.png"),o=a.p+"static/media/faceelook.332fa3f0.png",i="https://uface.su/",l=o,u=c,d=a(14),b=a(55),j=a.n(b),p=a(0),m=function(e){var t=e.children,a=e.to,n=e.disabled,r=e.onclick;return Object(p.jsx)("div",{className:j.a.Btn_native,children:n?Object(p.jsx)(d.b,{onClick:r,className:j.a.disabled,to:"/",children:t}):Object(p.jsx)(d.b,{onClick:r,className:j.a.button,to:a,children:t})})},h=a(24),f=a.n(h),O=a(13),x=function(){return window.location.href.split("key=")[1]?Object(p.jsx)(O.a,{to:"/confirm-email?key="+window.location.href.split("key=")[1]}):window.location.href.split("fio=")[1]?(sessionStorage.removeItem("recoverPhoto"),sessionStorage.removeItem("recoverData"),sessionStorage.removeItem("phoneConfirm"),sessionStorage.removeItem("mainPhoto"),sessionStorage.clear(),Object(p.jsx)(O.a,{to:"/registration?fio="+window.location.href.split("fio=")[1]})):window.location.href.split("tid=")[1]?Object(p.jsx)(O.a,{to:"/login?tid="+window.location.href.split("?tid=")[1]}):Object(p.jsxs)("div",{className:f.a.base_container,children:[Object(p.jsx)("div",{className:f.a.header,children:Object(p.jsx)("img",{src:l,className:f.a.faceelook,alt:"faceelook"})}),Object(p.jsxs)("div",{className:f.a.content,children:[Object(p.jsx)("div",{className:f.a.image,children:Object(p.jsx)("img",{className:f.a.tsuLogo,src:u,alt:"university_logo"})}),Object(p.jsx)("div",{className:f.a.log_in_tsu,children:Object(p.jsxs)("a",{href:"/persident/tgulogin",className:f.a.log_in_with,children:["\u0412\u043e\u0439\u0442\u0438 \u043f\u043e ","\u0422\u0413\u0423",".\u0410\u043a\u043a\u0430\u0443\u043d\u0442\u044b"]})}),Object(p.jsx)("div",{className:f.a.enterBtn,children:Object(p.jsx)(m,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})}),Object(p.jsx)("div",{children:Object(p.jsx)(d.b,{to:"/registration",onClick:function(){sessionStorage.removeItem("recoverPhoto"),sessionStorage.removeItem("recoverData"),sessionStorage.removeItem("phoneConfirm"),sessionStorage.removeItem("mainPhoto")},className:f.a.regBtn,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})]})},v=a(4),g=a.n(v),_=a(5),A=a(2),k=a(23),w=a(71),P=a(9),S=a.n(P),C=a.p+"static/media/valid_icon.fce9a7c2.svg",N=a.p+"static/media/eyeOpenImg.bc98ea8d.svg",y=a.p+"static/media/eyeCloseImg.fa7e2e82.svg",I=function(e){var t=Object(n.useState)(!1),a=Object(A.a)(t,2),r=a[0],s=a[1],c=e.enterInput,o=void 0!==c&&c,i=e.setValue,l=e.enterPassword,u=void 0!==l&&l,d=e.password,b=void 0!==d&&d,j=e.maxLength,m=e.placeholder,h=e.valid,f=void 0!==h&&h,O=e.label,x=e.value,v=e.EyeOpen,g=e.dateType,_=e.eMail,P=e.nonvalidicon,I=void 0===P||P,K=e.disabled,B="text";return(b||u)&&(B=r?"text":"password"),Object(p.jsxs)("div",{className:S.a.input,children:[g&&Object(p.jsx)(w.a,{className:S.a.input_native,disabled:K,mask:Date,min:new Date(1910,0,1),max:new Date(2008,0,1),lazy:!1,type:"text",placeholder:"2281337",onAccept:function(e){return i(e)},value:x}),o&&Object(p.jsx)("input",Object(k.a)({maxLength:j,onChange:function(e){return i(e.target.value)},value:x,className:S.a.enterInput,type:B,placeholder:m},e)),(b&&v||b&&!v)&&Object(p.jsx)("input",Object(k.a)({maxLength:j,onChange:function(e){return i(e.target.value)},value:x,className:r?S.a.inputPasswordOpen:S.a.inputPasswordClose,type:B,placeholder:m},e)),(u&&v||u&&!v)&&Object(p.jsx)("input",Object(k.a)({maxLength:j,onChange:function(e){return i(e.target.value)},value:x,className:r?S.a.enterPasswordOpen:S.a.enterPasswordClose,type:B,placeholder:m},e)),_&&Object(p.jsx)("input",Object(k.a)({maxLength:j,onChange:function(e){return i(e.target.value)},value:x,className:S.a.input_native,type:"email",placeholder:m},e)),!u&&!b&&!o&&!g&&!_&&Object(p.jsx)("input",Object(k.a)({maxLength:j,onChange:function(e){return i(e.target.value)},value:x,className:S.a.input_native,type:B,placeholder:m},e)),f&&I&&Object(p.jsx)("img",{className:S.a.valid_icon,src:C,alt:"ok_icon"}),v&&Object(p.jsx)("button",{type:"button",className:S.a.eyeButton,onClick:function(e){s(!r)},children:Object(p.jsx)("img",{src:r?N:y,alt:"visiblePassword",className:S.a.eye})}),O&&Object(p.jsx)("label",{className:S.a.label,children:O})]})},K=a(37),B=a.n(K),F=function(e){var t=e.children,a=e.title,n=e.text,r=e.BtnClick,s=e.open,c=e.close,o=e.buttonTitle;return Object(p.jsx)(p.Fragment,{children:s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{onClick:c,className:B.a.modalContainer}),Object(p.jsx)("div",{className:B.a.modalCard,children:Object(p.jsx)("div",{className:B.a.modalContent,children:Object(p.jsxs)("div",{className:B.a.modalData,children:[Object(p.jsx)("h1",{children:a}),Object(p.jsx)("p",{children:n}),t,Object(p.jsx)("button",{className:B.a.button,onClick:r,children:o})]})})})]})})},R=a(10),E=a.n(R),T=a(67),D=a.n(T),L=a.p+"static/media/back.9c94f039.svg",H=function(e){var t=e.to,a=e.onclick;return Object(p.jsx)(d.b,{className:D.a.back,onClick:a,to:t,children:Object(p.jsx)("img",{src:L,alt:"back"})})},U=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(i+t);case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Authorization","Bearer "+localStorage.getItem("token")),a.append("Content-Type","application/x-www-form-urlencoded"),n={method:"GET",headers:a,redirect:"follow"},e.next=6,fetch(i+t,n);case 6:return r=e.sent,e.next=9,r.json();case 9:return s=e.sent,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Authorization","Bearer "+localStorage.getItem("token")),a.append("Content-Type","application/x-www-form-urlencoded"),n=new URLSearchParams,r={method:"DELETE",headers:a,body:n,redirect:"follow"},e.next=7,fetch(i+t,r);case 7:return s=e.sent,e.next=10,s.json();case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Authorization","Bearer "+localStorage.getItem("token")),a.append("Content-Type","application/x-www-form-urlencoded"),n={method:"PUT",headers:a,redirect:"follow"},e.next=6,fetch(i+t,n);case 6:return r=e.sent,e.next=9,r.json();case 9:return s=e.sent,e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(_.a)(g.a.mark((function e(t,a,n){var r,s,c,o,l,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((r=new Headers).append("Content-Type","application/x-www-form-urlencoded"),s=new URLSearchParams,c=0;c<a.length;c++)s.append(a[c][0],a[c][1]);return o={method:"POST",headers:r,body:s,redirect:"follow"},e.next=7,fetch(i+t,o);case 7:return l=e.sent,e.next=10,l.json();case 10:return u=e.sent,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,s,c,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Content-Type","application/x-www-form-urlencoded"),n="^",t&&(n=t),(r=new URLSearchParams).append("key",n),s={method:"POST",headers:a,body:r,redirect:"follow"},e.next=9,fetch(i+"/persident/getinstitutes",s);case 9:return c=e.sent,e.next=12,c.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M={get:U,post:V,postAuth:function(){var e=Object(_.a)(g.a.mark((function e(t,a){var n,r,s,c,o,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((n=new Headers).append("Authorization","Bearer "+localStorage.getItem("token")),n.append("Content-Type","application/x-www-form-urlencoded"),r=new URLSearchParams,s=0;s<a.length;s++)r.append(a[s][0],a[s][1]);return c={method:"POST",headers:n,body:r,redirect:"follow"},e.next=8,fetch(i+t,c);case 8:return o=e.sent,e.next=11,o.json();case 11:return l=e.sent,e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deletePhoto:X,getAuth:z,postToken:function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Refresh_t",localStorage.getItem("rtoken")),a.append("Authorization","Bearer "+localStorage.getItem("token")),n=new URLSearchParams,r={method:"POST",headers:a,body:n,redirect:"follow"},e.next=7,fetch(i+t,r);case 7:return s=e.sent,e.next=10,s.json();case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),refreshToken:function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Headers).append("Refresh_t",localStorage.getItem("rtoken")),a.append("Authorization","Bearer "+localStorage.getItem("token")),n=new URLSearchParams,r={method:"POST",headers:a,body:n,redirect:"follow"},e.next=7,fetch(i+t,r);case 7:return s=e.sent,e.next=10,s.json();case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),MakeExtImgAsMain:Q,getInst:J},W=a(61),Z=a.n(W),q=function(e){return e.show?Object(p.jsx)("div",{id:Z.a.preloader,children:Object(p.jsx)("svg",{width:"100",height:"100",className:Z.a.rotating,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:Object(p.jsx)("path",{fill:"currentColor",d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"})})}):Object(p.jsx)("div",{})},G=a(31),Y=a.n(G),$=function(){var e=Object(O.f)(),t=Object(n.useState)(""),a=Object(A.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),o=Object(A.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(!1),b=Object(A.a)(u,2),j=b[0],m=b[1],h=Object(n.useState)("\u041e\u0448\u0438\u0431\u043a\u0430"),f=Object(A.a)(h,2),x=f[0],v=f[1],k=Object(n.useState)(""),w=Object(A.a)(k,2),P=w[0],S=w[1],C=Object(n.useState)(!0),N=Object(A.a)(C,2),y=N[0],K=N[1],B=Object(n.useState)(!1),R=Object(A.a)(B,2),T=R[0],D=R[1],L=function(){var t=Object(_.a)(g.a.mark((function t(){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a={},n=window.location.href.split("?")[1],n.split("&").map((function(e){a[e.split("=")[0]]=decodeURIComponent(e.split("=")[1]).replaceAll("+"," ")})),localStorage.setItem("token",a.tid),localStorage.setItem("rtoken",a.rtid),null!==localStorage.getItem("token")&&null!==localStorage.getItem("rtoken")&&e.push("/profile")}catch(r){K(!1)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){L()}),[]);var U=function(){var t=Object(_.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),D(!0),t.prev=2,t.next=5,M.post("persident/folklogin",[["login","9"===r[0]?"7"+r:r],["pass",i]]);case 5:"error"!==(n=t.sent).status?(localStorage.setItem("token",n.tid),localStorage.setItem("rtoken",n.rtid),e.push("/profile")):(D(!1),m(!0),v("\u041e\u0448\u0438\u0431\u043a\u0430"),S(n.errordesc)),t.next=15;break;case 9:t.prev=9,t.t0=t.catch(2),D(!1),m(!0),v("\u041e\u0448\u0438\u0431\u043a\u0430"),S("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");case 15:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:E.a.base_container,children:[Object(p.jsx)(H,{to:"/"}),Object(p.jsx)("div",{className:E.a.header,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(p.jsx)("form",{onSubmit:function(e){return U(e)},children:Object(p.jsxs)("div",{className:E.a.content,children:[Object(p.jsx)("div",{className:E.a.label,children:Object(p.jsx)("label",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d / E-mail"})}),Object(p.jsx)("div",{children:Object(p.jsx)(I,{placeholder:"9XXXXXXXXX / E-mail",enterInput:!0,type:"text",value:r,setValue:function(e){/[\u0430-\u044f]/gi.test(e)||s(e)},maxLength:"40",valid:!(""===r||""!==r&&!(10===r.length&&10===r.replace(/[^0-9]/g,"").length&&"9"===r[0]||0!==r.indexOf("@")&&-1!==r.indexOf("@")&&r.indexOf("@")!==r.length-1&&0!==r.indexOf(".")&&-1!==r.indexOf(".")&&r.indexOf(".")!==r.length-1))})}),Object(p.jsx)("div",{className:E.a.label,children:Object(p.jsx)("label",{children:"\u041f\u0430\u0440\u043e\u043b\u044c"})}),Object(p.jsx)("div",{children:Object(p.jsx)(I,{enterPassword:!0,value:i,setValue:function(e){e.length<=20&&l(e)},EyeOpen:!0,valid:""!==i&&i.length>=6&&i.length<=20,name:"password"})}),Object(p.jsx)("div",{className:E.a.passLink,children:Object(p.jsx)(d.b,{to:"/recover-password",className:E.a.passLink,children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})}),T?Object(p.jsx)(Y.a,{type:"Bars",color:"#247ABF",height:50,width:50}):Object(p.jsx)("button",{type:"submit",className:""===r||""!==r&&!(10===r.length&&10===r.replace(/[^0-9]/g,"").length&&"9"===r[0]||0!==r.indexOf("@")&&-1!==r.indexOf("@")&&r.indexOf("@")!==r.length-1&&0!==r.indexOf(".")&&-1!==r.indexOf(".")&&r.indexOf(".")!==r.length-1)||!(""!==i&&i.length>=6&&i.length<=20)?E.a.Disabled:E.a.Button,disabled:""===r||""!==r&&!(10===r.length&&10===r.replace(/[^0-9]/g,"").length&&"9"===r[0]||0!==r.indexOf("@")&&-1!==r.indexOf("@")&&r.indexOf("@")!==r.length-1&&0!==r.indexOf(".")&&-1!==r.indexOf(".")&&r.indexOf(".")!==r.length-1)||!(""!==i&&i.length>=6&&i.length<=20),children:"\u0414\u0430\u043b\u0435\u0435"})]})}),Object(p.jsxs)("div",{className:E.a.regBtn,children:[Object(p.jsx)("label",{className:E.a.passLink2,children:"\u041d\u0435\u0442 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438?"}),Object(p.jsx)(d.b,{to:"/registration",className:E.a.registration,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(p.jsx)(F,{open:j,close:function(){return m(!1)},title:x,text:P,BtnClick:function(){return m(!1)},buttonTitle:"\u041e\u043a"}),Object(p.jsx)(q,{show:y})]})},ee=a(11),te=a.n(ee),ae=a(56),ne=a.n(ae),re=function(e){var t=e.setValue,a=e.value,n=e.options,r=void 0===n?[]:n,s=e.label,c=e.name,o=e.disabled;return Object(p.jsxs)("div",{className:ne.a.select_container,children:[Object(p.jsx)("select",{className:ne.a.select,onChange:function(e){return t(e.target.value)},value:a,disabled:o,name:c,children:r&&r.map((function(e){return Object(p.jsx)("option",{disabled:!1,value:e.kod,children:e.name},e.kod)}))}),s&&Object(p.jsx)("label",{className:ne.a.label,children:s})]})},se=a(72);function ce(e){var t=e.setValue,a=e.valid,n=e.label,r=e.value;return Object(p.jsxs)("div",{className:S.a.input,children:[Object(p.jsx)(se.a,Object(k.a)({country:"RU",defaultCountry:"RU",placeholder:"8 (000) 000 0000",value:r,onChange:function(e){return t(e)},className:S.a.input_native,style:{paddingRight:"45px"}},e)),a&&Object(p.jsx)("img",{className:S.a.valid_icon,src:C,alt:"ok_icon"}),n&&Object(p.jsx)("label",{className:S.a.label,children:n})]})}var oe=a(130),ie=a(27),le=a.n(ie);function ue(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function de(e){return/^[\u0410-\u042f\u0401\u0430-\u044f\u0451 -]+$/.test(e)}var be=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(A.a)(s,2),o=c[0],i=c[1],l=Object(n.useState)(""),u=Object(A.a)(l,2),d=u[0],b=u[1],j=Object(n.useState)(""),m=Object(A.a)(j,2),h=m[0],f=m[1],x=Object(n.useState)(""),v=Object(A.a)(x,2),k=v[0],w=v[1],P=Object(n.useState)(""),S=Object(A.a)(P,2),C=S[0],N=S[1],y=Object(n.useState)(""),K=Object(A.a)(y,2),B=K[0],F=K[1],R=Object(n.useState)("1"),E=Object(A.a)(R,2),T=E[0],D=E[1],L=Object(n.useState)("1"),U=Object(A.a)(L,2),z=U[0],X=U[1],Q=Object(n.useState)(""),V=Object(A.a)(Q,2),J=V[0],W=V[1],Z=Object(n.useState)(!1),q=Object(A.a)(Z,2),G=q[0],Y=q[1],$=Object(n.useState)([]),ee=Object(A.a)($,2),ae=ee[0],ne=ee[1],se=Object(n.useState)([]),ie=Object(A.a)(se,2),be=ie[0],je=ie[1],pe=Object(n.useState)(!0),me=Object(A.a)(pe,2),he=me[0],fe=me[1],Oe=Object(n.useState)(d),xe=Object(A.a)(Oe,2),ve=xe[0],ge=xe[1],_e=Object(O.f)();Object(n.useEffect)((function(){Ae(),ke()}),[]);var Ae=function(){var e=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t={},window.location.href.split("?")[1].split("&").map((function(e){t[e.split("=")[0]]=decodeURIComponent(e.split("=")[1]).replaceAll("+"," ")})),w(t.email),ge(t.sname),sessionStorage.setItem("recoverData",JSON.stringify({lastName:t.lname.trim(),firstName:t.fname.trim(),patronymic:t.sname.trim(),phone:"+7"+t.phone.trim(),email:t.email.trim(),dateborn:t.bdate.trim()}))}catch(a){}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(_.a)(g.a.mark((function e(){var t,a,n,s,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sessionStorage.removeItem("emailSuccess"),e.next=3,M.getInst(1);case 3:return t=e.sent,e.next=6,M.get("persident/getfolkroles");case 6:a=e.sent,n=t.filter((function(e){return"1"===e.kod})),ne(n),je(a),(s=sessionStorage.getItem("recoverData"))&&(c=JSON.parse(s),r(c.lastName),i(c.firstName),b(c.patronymic),W(c.dateborn),f(c.phone),w(c.email),c.password&&N(c.password),c.password2&&F(c.password2),c.role&&X(c.role),c.checkboxClick&&Y(c.checkboxClick));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e={lastName:a.trim(),firstName:o.trim(),patronymic:d.trim(),phone:h,email:k,password:C,password2:B,role:z,institute:ae[T-1].kod,dateborn:J,checkboxClick:G};sessionStorage.setItem("recoverData",JSON.stringify(e))},Pe=function(){var e=Object(_.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),we(),_e.push("/confirm-registration");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(H,{to:"/"}),Object(p.jsxs)("div",{className:te.a.header,children:["\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 ",Object(p.jsx)("br",{}),"\u0430\u043d\u043a\u0435\u0442\u0443"]}),Object(p.jsxs)("form",{onSubmit:function(e){return Pe(e)},children:[Object(p.jsxs)("div",{className:te.a.inputs,children:[Object(p.jsx)("div",{className:te.a.formInput,children:Object(p.jsx)(I,{placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432",label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f*",type:"text",name:"lastName",value:a,valid:""!==a&&de(a),setValue:function(e){/[a-z0-9]/gi.test(e)||r(e.charAt(0).toUpperCase()+e.slice(1))}})}),Object(p.jsx)("div",{className:te.a.formInput,children:Object(p.jsx)(I,{placeholder:"\u0418\u0432\u0430\u043d",value:o,setValue:function(e){/[a-z0-9]/gi.test(e)||i(e.charAt(0).toUpperCase()+e.slice(1))},label:"\u0418\u043c\u044f*",type:"text",name:"firstName",valid:""!==o&&de(o)})}),Object(p.jsxs)("div",{className:te.a.formInput,children:[he&&Object(p.jsx)(I,{placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",value:d,setValue:function(e){/[a-z0-9]/gi.test(e)||(b(e.charAt(0).toUpperCase()+e.slice(1)),ge(e.charAt(0).toUpperCase()+e.slice(1)))},label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",type:"text",name:"patronymic",valid:d&&d.length>0}),ve.length<1&&Object(p.jsxs)("div",{className:te.a.snameLabel,children:[Object(p.jsx)("input",{type:"checkbox",checked:!he,style:{paddingRight:"15px",paddingBottom:"20px"},onChange:function(){fe(!he),b(he?"":ve)}}),"\u041d\u0435\u0442 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u0430?"]})]}),Object(p.jsx)("div",{className:te.a.formInput,children:Object(p.jsx)(I,{valid:-1===J.indexOf("_")&&J.length>0,value:J,dateType:!0,setValue:function(e){W(e)},label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f*"})}),Object(p.jsx)("div",{className:te.a.formInput,children:Object(p.jsx)(ce,{value:h,setValue:f,label:"\u041d\u043e\u043c\u0435\u0440 \u0441\u043e\u0442\u043e\u0432\u043e\u0433\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430*",valid:!!(h&&h.length>0)&&!Object(oe.a)(h,"RU")})}),Object(p.jsx)("div",{className:te.a.formInput,children:Object(p.jsx)(I,{valid:le.a.validate(k,{minDomainAtoms:2}),value:k,setValue:function(e){/[\u0430-\u044f]/gi.test(e)||w(e)},eMail:!0,placeholder:"example@gmail.com",label:"E-mail*",name:"email"})}),Object(p.jsx)("div",{className:te.a.formInput,children:Object(p.jsx)(I,{EyeOpen:!0,valid:""!==C&&C.length>=6&&C.match(/^(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z]).{6,}$/),value:C,setValue:function(e){N(e)},label:"\u041f\u0430\u0440\u043e\u043b\u044c*",password:!0,name:"password"})}),Object(p.jsx)("div",{className:te.a.formInput,children:Object(p.jsx)(I,{EyeOpen:!0,valid:""!==C&&C.length>=6&&C.match(/^(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z]).{6,}$/)&&B===C,value:B,setValue:function(e){F(e)},label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c*",name:"password",password:!0})})]}),C.length>0&&!C.match(/^(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z]).{6,}$/)&&Object(p.jsxs)("ul",{className:te.a.passwordRequirements,children:[Object(p.jsx)("li",{children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438\u043b\u0438 \u0431\u043e\u043b\u0435\u0435."}),Object(p.jsx)("li",{children:"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0430, \u0442\u0438\u0440\u0435, \u0442\u043e\u0447\u043a\u0438. \u041f\u0440\u043e\u0431\u0435\u043b\u044b \u043d\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b."}),Object(p.jsx)("li",{children:"\u0422\u0430\u043a\u0436\u0435 1 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0438 1 \u043f\u0440\u043e\u043f\u0438\u0441\u043d\u0443\u044e"})]}),ae&&be&&Object(p.jsxs)("div",{className:te.a.selects,children:[Object(p.jsx)("div",{className:te.a.formSelect,children:Object(p.jsx)(re,{value:z,disabled:!1,setValue:X,label:"\u0421\u0442\u0430\u0442\u0443\u0441*",options:be,name:"role"})}),void 0!==ae[0]&&Object(p.jsx)("div",{className:te.a.formSelect,children:Object(p.jsx)(re,{value:ae[T-1].kod,disabled:!1,setValue:D,label:"\u0412\u0423\u0417*",options:ae,name:"institute"})})]}),Object(p.jsxs)("div",{className:te.a.checkbox,children:[Object(p.jsx)("div",{className:te.a.checkboxNative,children:Object(p.jsx)("input",{type:"checkbox",checked:G,onChange:function(){return Y(!G)}})}),Object(p.jsx)("div",{className:te.a.formInput,children:Object(p.jsx)("a",{className:te.a.checkboxText,target:"_blank",href:"".concat("https://uface.su/","politikaPd-").concat("tsu",".pdf"),children:"\u0414\u0430\u044e \u0441\u0432\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"})})]}),Object(p.jsx)("div",{className:te.a.enterBtn,children:Object(p.jsx)("button",{type:"submit",className:""!==a&&a.length>=1&&de(a)&&""!==o&&o.length>=1&&de(o)&&-1===J.indexOf("_")&&ue(k)&&""!==C&&C.length>=6&&""!==B&&B.length>=6&&B===C&&!0===G?te.a.Button:te.a.Disabled,disabled:!(""!==a&&a.length>=1&&de(a)&&""!==o&&o.length>=1&&de(o)&&-1===J.indexOf("_")&&ue(k)&&""!==C&&C.length>=6&&""!==B&&B.length>=6&&B===C&&!0===G),children:"\u0414\u0430\u043b\u0435\u0435"})})]})]})},je=a.p+"static/media/photo.37862967.jpg",pe=a(12),me=a.n(pe),he=a.p+"static/media/smile.4925f8fe.svg",fe=a(51),Oe=a.n(fe),xe=a(68),ve=(a(121),a(28)),ge=a.n(ve),_e=function(e){var t=e.img,a=e.callBackFunc,r=e.updateCropped,s=Object(n.useState)(),c=Object(A.a)(s,2),o=c[0],i=c[1],l=Object(n.useState)(),u=Object(A.a)(l,2),d=u[0],b=u[1],j=function(e){"undefined"!==typeof o&&o.rotate(90*e)};return Object(p.jsxs)("div",{className:ge.a.CropperContainer,children:[d?Object(p.jsx)("img",{className:ge.a.croppedImage,alt:"cropped-data",src:d}):Object(p.jsx)(xe.a,{zoomTo:0,initialAspectRatio:1,aspectRatio:1,preview:".img-preview",src:t,viewMode:1,minCropBoxHeight:100,minCropBoxWidth:100,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){i(e)},className:ge.a.imageCropper,guides:!0}),d?Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:ge.a.buttonClass,onClick:function(){b(null),sessionStorage.removeItem("recoverPhoto")},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(p.jsx)("button",{className:ge.a.buttonClass,onClick:function(){"undefined"!==typeof o&&sessionStorage.setItem("recoverPhoto",d),r(d),a()},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:ge.a.buttonClass,onClick:function(){"undefined"!==typeof o&&b(o.getCroppedCanvas().toDataURL("image/jpeg"))},children:"\u041e\u0431\u0440\u0435\u0437\u0430\u0442\u044c"}),Object(p.jsx)("button",{className:ge.a.buttonClass,onClick:function(){j(-1)},children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043d\u0430\u043b\u0435\u0432\u043e"}),Object(p.jsx)("button",{className:ge.a.buttonClass,onClick:function(){j(1)},children:"\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043d\u0430\u043f\u0440\u0430\u0432\u043e"})]})]})},Ae=a.p+"static/media/profile.4bbd9a44.svg",ke=a(52),we=function(){var e=Object(n.useState)(!1),t=Object(A.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(!1),c=Object(A.a)(s,2),o=c[0],l=c[1],u=Object(n.useState)(!1),d=Object(A.a)(u,2),b=d[0],j=d[1],m=Object(n.useState)(!1),h=Object(A.a)(m,2),f=h[0],x=h[1],v=Object(n.useState)(!1),k=Object(A.a)(v,2),w=(k[0],k[1]),P=Object(n.useState)(!1),S=Object(A.a)(P,2),N=S[0],y=S[1],I=Object(n.useState)(""),K=Object(A.a)(I,2),B=K[0],R=K[1],E=Object(n.useState)(!1),T=Object(A.a)(E,2),D=(T[0],T[1]),L=Object(n.useState)(sessionStorage.getItem("recoverPhoto")||null),U=Object(A.a)(L,2),z=U[0],X=U[1],Q=Object(n.useState)(3),V=Object(A.a)(Q,2),J=V[0],W=V[1],Z=Object(n.useState)(!1),q=Object(A.a)(Z,2),G=q[0],$=q[1],ee=Object(n.useState)(!1),te=Object(A.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useRef)(null);var se=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentTarget.files[0],n={maxSizeMB:1,maxWidthOrHeight:1080},e.prev=2,e.next=5,Object(ke.a)(a,n);case 5:return r=e.sent,e.next=8,ce(r).catch((function(e){return Error(e)}));case 8:s=e.sent,X(s),l(!0),sessionStorage.setItem("recoverPhoto",s),x(!0),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))};Object(n.useEffect)((function(){sessionStorage.getItem("recoverPhoto")&&l(!0)}),[]);var oe=null;if(!sessionStorage.getItem("recoverData"))return Object(p.jsx)(O.a,{to:"/registration"});if(ae)return Object(p.jsx)(O.a,{to:"/success"});var ie=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),$(!0),e.prev=2,w(!0),a=JSON.parse(sessionStorage.getItem("recoverData")),D(!0),sessionStorage.setItem("phoneConfirm",a.phone),e.next=9,M.post("persident/folkreg",[["fio","".concat(a.lastName," ").concat(a.firstName," ").concat(a.patronymic)],["lname",a.lastName],["fname",a.firstName],["sname",a.patronymic],["phone",a.phone],["pwd",a.password],["email",a.email],["dateborn",a.dateborn],["folkrole",a.role],["institute",a.institute],["img64",sessionStorage.getItem("recoverPhoto")],["regactivatelink",i]]);case 9:"error"!==(n=e.sent).status?(D(!1),ne(!0),$(!1)):($(!1),D(!1),y(!0),R(n.errordesc)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),$(!1),y(!0),R(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:me.a.base_container,children:[Object(p.jsx)("img",{src:Ae,className:me.a.lines,alt:"AnotherCoolLines3"}),Object(p.jsx)("img",{src:Ae,className:me.a.secondLines,alt:"AnotherCoolLines2"}),Object(p.jsx)(H,{to:"/registration"}),f&&Object(p.jsx)(_e,{img:sessionStorage.getItem("recoverPhoto"),callBackFunc:function(){return x(!1)},updateCropped:function(e){X(e)}}),Object(p.jsx)("div",{className:me.a.header,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u044c"}),Object(p.jsx)("form",{onSubmit:function(e){return ie(e)},children:Object(p.jsxs)("div",{className:me.a.content,children:[a?Object(p.jsx)("div",{children:Object(p.jsx)(Oe.a,{screenshotQuality:"1",screenshotFormat:"image/jpeg",className:me.a.image,ref:re,playsInline:!0,minScreenshotHeight:720})}):Object(p.jsx)("div",{children:z?Object(p.jsx)("img",{className:me.a.image,src:z,alt:"hasphoto"}):Object(p.jsx)("img",{className:me.a.image,src:je,alt:"nophoto"})}),!a&&!z&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"}),Object(p.jsx)("a",{className:me.a.photoInstruction,href:"/photo-instruction.pdf",target:"_blank",children:"\u041a\u0430\u043a \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e"})]}),a&&Object(p.jsxs)("div",{className:me.a.takePhotoButton,children:[Object(p.jsx)("p",{children:"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0430\u043c\u0435\u0440\u0443 \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u043b\u0438\u0446\u043e \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u043b\u043e\u0441\u044c \u0432 \u043a\u0440\u0443\u0433"}),b&&Object(p.jsx)("p",{className:me.a.RingCount,children:J}),!b&&Object(p.jsxs)("button",{type:"button",onClick:function(){var e=J;j(!0);var t=setInterval((function(){if(1===e){var a=re.current.getScreenshot();sessionStorage.setItem("recoverPhoto",a),X(a),j(!1),r(!1),l(!0),clearInterval(t)}else W((function(e){return e-1})),e-=1}),1e3)},className:me.a.smile,children:[Object(p.jsx)("img",{style:{cursor:"pointer"},src:he,alt:"smile"}),Object(p.jsx)("span",{className:me.a.smileSpan,children:"\u0421\u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]}),!a&&!o&&Object(p.jsx)("div",{children:Object(p.jsx)("button",{className:me.a.startPhoto,onClick:function(){x(!1),r(!0)},children:"\u0421\u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),o&&Object(p.jsxs)("div",{className:me.a.takePhotoButton,children:[Object(p.jsx)("p",{children:"\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}),Object(p.jsx)("div",{className:me.a.smile,children:Object(p.jsx)("img",{src:C,alt:"smile"})})]}),Object(p.jsx)("div",{className:me.a.nextBtn,children:G?Object(p.jsx)(Y.a,{type:"Bars",color:"#247ABF",height:50,width:50}):Object(p.jsx)("button",{type:"submit",className:o?me.a.button:me.a.disabled,disabled:!o,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})}),!a&&z&&Object(p.jsx)("div",{children:Object(p.jsx)("button",{className:me.a.startPhoto,onClick:function(){W(3),sessionStorage.removeItem("recoverPhoto"),r(!0),x(!1),l(!1),X("")},children:"\u0421\u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0437\u0430\u043d\u043e\u0432\u043e"})}),Object(p.jsxs)("form",{id:"idregform",name:"regform",action:"",encType:"multipart/form-data",children:[Object(p.jsx)("input",{onChange:se,style:{display:"none"},type:"file",id:"fileimg",ref:function(e){return oe=e},accept:"image/x-png,image/gif,image/jpeg"}),Object(p.jsx)("div",{className:me.a.buttons,children:Object(p.jsx)("button",{type:"button",className:me.a.UploadPhoto,onClick:function(){sessionStorage.removeItem("recoverPhoto"),r(!1),oe.click()},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})})]})]})}),Object(p.jsx)(F,{open:N,close:function(){return y(!1)},title:"\u041e\u0448\u0438\u0431\u043a\u0430",text:B,BtnClick:function(){return y(!1)},buttonTitle:"\u041e\u043a"})]})},Pe=a.p+"static/media/Frame.bbc14869.svg",Se=a(38),Ce=a.n(Se),Ne=function(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){sessionStorage.getItem("recoverData")&&(sessionStorage.setItem("emailSuccess",JSON.parse(sessionStorage.getItem("recoverData")).email),r(sessionStorage.getItem("emailSuccess")),sessionStorage.removeItem("recoverData"),sessionStorage.removeItem("recoverPhoto")),sessionStorage.getItem("emailSuccess")&&r(sessionStorage.getItem("emailSuccess"))}),[]),Object(p.jsxs)("div",{className:Ce.a.base_container,children:[Object(p.jsx)(H,{to:"/login",onclick:function(){localStorage.clear(),sessionStorage.clear()}}),Object(p.jsx)("div",{className:Ce.a.header,children:"\u0410\u043d\u043a\u0435\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430"}),Object(p.jsxs)("div",{className:Ce.a.content,children:[Object(p.jsx)("center",{children:Object(p.jsx)("div",{style:{marginTop:41,marginBottom:41,width:111,height:111,borderRadius:128,backgroundColor:"#247ABF"},children:Object(p.jsx)("img",{style:{width:48,height:65,marginTop:24},src:Pe,alt:"ok"})})}),Object(p.jsxs)("div",{className:Ce.a.label1,children:[Object(p.jsxs)("label",{children:["\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0412\u0430\u0448\u0443 \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c. \u041d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0432\u0430\u043c\u0438 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 e-mail"," ",Object(p.jsx)("b",{style:{color:"black",textDecoration:"underline"},children:a})," ","\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u0441\u043e \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u0434\u043b\u044f \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438."]}),Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),Object(p.jsx)("label",{children:"\u0412 \u041b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430."})]}),Object(p.jsx)("div",{className:Ce.a.label2,children:Object(p.jsx)("label",{children:'\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043c\u043e\u0436\u043d\u043e \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 "\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"'})}),Object(p.jsx)(m,{onclick:function(){localStorage.clear(),sessionStorage.clear()},to:"/login",children:"\u0414\u0430\u043b\u0435\u0435"})]})]})},ye=a(8),Ie=a.n(ye),Ke=a.p+"static/media/close.75b48108.svg";function Be(e){return/^[\u0410-\u042f\u0401\u0430-\u044f\u0451 -]+$/.test(e)}var Fe=function(){var e=Object(n.useState)(!1),t=Object(A.a)(e,2),a=(t[0],t[1]),r=Object(n.useState)("\u041e\u0448\u0438\u0431\u043a\u0430"),s=Object(A.a)(r,2),c=s[0],o=s[1],i=Object(n.useState)(!1),l=Object(A.a)(i,2),u=l[0],b=l[1],j=Object(n.useState)(""),m=Object(A.a)(j,2),h=m[0],f=m[1],x=Object(n.useState)(!1),v=Object(A.a)(x,2),k=v[0],w=v[1],P=Object(n.useState)(""),S=Object(A.a)(P,2),C=S[0],N=S[1],y=Object(n.useState)(""),K=Object(A.a)(y,2),B=K[0],R=K[1],E=Object(n.useState)(""),T=Object(A.a)(E,2),D=T[0],L=T[1],H=Object(n.useState)(!1),U=Object(A.a)(H,2),z=U[0],X=U[1],Q=Object(n.useState)(!1),V=Object(A.a)(Q,2),J=V[0],W=V[1],Z=Object(n.useState)(localStorage.getItem("newPhoto")||"data:image/jpeg;base64,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"),G=Object(A.a)(Z,2),$=G[0],ee=G[1],te=Object(n.useState)(""),ae=Object(A.a)(te,2),ne=ae[0],se=ae[1],oe=Object(n.useState)(""),ie=Object(A.a)(oe,2),ue=ie[0],de=ie[1],be=Object(n.useState)(""),je=Object(A.a)(be,2),pe=je[0],me=je[1],he=Object(n.useState)(""),fe=Object(A.a)(he,2),Oe=fe[0],xe=fe[1],ve=Object(n.useState)(""),ge=Object(A.a)(ve,2),_e=ge[0],ke=ge[1],we=Object(n.useState)(""),Pe=Object(A.a)(we,2),Se=Pe[0],Ce=Pe[1],Ne=Object(n.useState)(""),ye=Object(A.a)(Ne,2),Fe=ye[0],Re=ye[1],Ee=Object(n.useState)(new Date),Te=Object(A.a)(Ee,2),De=Te[0],Le=Te[1],He=Object(n.useState)([]),Ue=Object(A.a)(He,2),ze=Ue[0],Xe=Ue[1],Qe=Object(n.useState)([]),Ve=Object(A.a)(Qe,2),Je=Ve[0],Me=Ve[1],We=Object(n.useState)(!1),Ze=Object(A.a)(We,2),qe=(Ze[0],Ze[1],Object(n.useState)(!1)),Ge=Object(A.a)(qe,2),Ye=Ge[0],$e=Ge[1],et=Object(n.useState)(!1),tt=Object(A.a)(et,2),at=tt[0],nt=tt[1],rt=Object(n.useState)(!0),st=Object(A.a)(rt,2),ct=st[0],ot=st[1],it=Object(n.useState)(""),lt=Object(A.a)(it,2),ut=lt[0],dt=lt[1],bt=Object(n.useState)(!1),jt=Object(A.a)(bt,2),pt=jt[0],mt=jt[1],ht=Object(n.useState)(!0),ft=Object(A.a)(ht,2),Ot=ft[0],xt=ft[1],vt=Object(n.useState)(pe),gt=Object(A.a)(vt,2),_t=gt[0],At=gt[1],kt=Object(n.useState)({}),wt=Object(A.a)(kt,2),Pt=wt[0],St=wt[1],Ct=Object(n.useState)(!1),Nt=Object(A.a)(Ct,2),yt=Nt[0],It=Nt[1];Object(n.useEffect)((function(){Kt(),Ft()}),[]);var Kt=function(){var e=Object(_.a)(g.a.mark((function e(){var t,a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ot(!0),e.next=3,M.getAuth("persident/folkdata");case 3:if("success"!==(t=e.sent).status){e.next=24;break}return se(t.lname),de(t.fname),me(t.sname),At(t.sname),""===t.sname&&xt(!1),"1"===t.phone_approve&&w(!0),xe("+"+t.phone),sessionStorage.setItem("phoneConfirm",t.phone),dt("+"+t.phone),ke(t.email),Re(t.folkrole),Le(t.dateborn),Ce(t.institute),e.next=20,M.getAuth("persident/folkimg");case 20:(a=e.sent)&&(ee(a.imagedesc),sessionStorage.setItem("mainPhoto",a.imagedesc)),e.next=47;break;case 24:if(!localStorage.getItem("rtoken")){e.next=47;break}return e.next=27,Bt();case 27:return e.next=29,M.getAuth("persident/folkdata");case 29:return n=e.sent,se(n.lname),de(n.fname),me(n.sname),At(n.sname),""===n.sname&&xt(!1),"1"===n.phone_approve&&w(!0),xe("+"+n.phone),dt("+"+n.phone),ke(n.email),Re(n.folkrole),Le(n.dateborn),Ce(n.institute),e.next=44,M.getAuth("persident/folkimg");case 44:(r=e.sent)&&(ee(r.imagedesc),sessionStorage.setItem("mainPhoto",r.imagedesc)),"error"===n.status&&$e(!0);case 47:nt(!1),ot(!1);case 49:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.postToken("persident/folkreftok");case 2:t=e.sent,localStorage.setItem("token",t.tid),localStorage.setItem("rtoken",t.rtid);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){J?St({lname:ne,fname:ue,sname:pe,phone:Oe,email:_e,dateborn:De,okNumber:k}):(se(Pt.lname),de(Pt.fname),me(Pt.sname),At(Pt.sname),Le(Pt.dateborn),""===Pt.sname&&xt(!1),w(Pt.okNumber),xe(Pt.phone),dt(Pt.phone),ke(Pt.email)),!Ot&&_t.length>0&&xt(!0)}),[J]);var Ft=function(){var e=Object(_.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getInst(1);case 2:return t=e.sent,e.next=5,M.get("persident/getfolkroles");case 5:a=e.sent,Xe(t),Me(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rt=function(){var e=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return It(!0),e.prev=1,e.next=4,M.postAuth("persident/pwdchange",[["oldpwd",C],["newpwd",B],["confirmpwd",D]]);case 4:"error"!==(t=e.sent).status?(b(!0),o("\u0423\u0441\u043f\u0435\u0448\u043d\u043e"),f(t.desc),X(!1),W(!1),It(!1)):(o("\u041e\u0448\u0438\u0431\u043a\u0430"),b(!0),f(t.errordesc?t.errordesc:t.desc),X(!1),It(!1)),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("error: ",e.t0),b(!0),f(e.t0.errordesc),It(!1);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mt(!0),Oe!==Pt.phone&&w(!1),St({lname:ne,fname:ue,sname:pe,phone:Oe,email:_e,dateborn:De,okNumber:k}),e.prev=3,e.next=6,M.postAuth("persident/folkdata",[["fio",ne+" "+ue+" "+pe],["lname",ne],["fname",ue],["sname",pe],["phone",Oe],["email",_e],["dateborn",De],["folkrole",Fe],["institute",Se]]);case 6:"error"!==(t=e.sent).status?(b(!0),f(t.desc),o("\u0423\u0441\u043f\u0435\u0448\u043d\u043e"),W(!1),mt(!1),Oe!==ut&&w(!1)):(o("\u041e\u0448\u0438\u0431\u043a\u0430"),b(!0),mt(!1),f(t.error),console.log(t)),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("error: ",e.t0),b(!0),mt(!1),f(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Ye?Object(p.jsx)(O.a,{to:"/"}):at?Object(p.jsx)("div",{}):!at&&Object(p.jsx)("div",{className:Ie.a.base_container,children:ct?Object(p.jsx)(q,{show:ct}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:Ie.a.links,children:[Object(p.jsx)("div",{className:Ie.a.cabinetText,children:"\u041a\u0430\u0431\u0438\u043d\u0435\u0442 Uface"}),Object(p.jsx)("div",{className:Ie.a.closeBtn,children:Object(p.jsx)("button",{className:Ie.a.closeImg,onClick:Object(_.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getAuth("persident/folkexit");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("error: ",e.t0);case 8:$e(!0);case 9:case"end":return e.stop()}}),e,null,[[0,5]])}))),children:Object(p.jsx)("img",{className:Ie.a.closeBtn,src:Ke,alt:"close"})})})]}),Object(p.jsx)("img",{src:Ae,className:Ie.a.lines,alt:"AnotherCoolLines"}),Object(p.jsxs)("div",{className:Ie.a.my_profile,children:[Object(p.jsx)("div",{className:Ie.a.header,children:"\u041c\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(p.jsx)(d.b,{to:"/my-photos",children:Object(p.jsx)("img",{className:Ie.a.photo,src:$,alt:"userPhoto"})})]}),Object(p.jsx)("div",{className:Ie.a.options,children:Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){W((function(e){return!e}),a(!1)),mt(!1)},className:Ie.a.update,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})})}),Object(p.jsxs)("div",{className:Ie.a.inputs,children:[Object(p.jsx)("div",{className:Ie.a.formInput,children:Object(p.jsx)(I,{label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f*",disabled:!J,type:"text",value:ne,setValue:function(e){/[a-z0-9]/gi.test(e)||se(e.charAt(0).toUpperCase()+e.slice(1))},valid:""!==ne&&Be(ne)})}),Object(p.jsx)("div",{className:Ie.a.formInput,children:Object(p.jsx)(I,{label:"\u0418\u043c\u044f*",value:ue,setValue:function(e){/[a-z0-9]/gi.test(e)||de(e.charAt(0).toUpperCase()+e.slice(1))},disabled:!J,type:"text",valid:""!==ue&&Be(ue)})}),Object(p.jsxs)("div",{className:Ie.a.formInput,children:[Ot&&Object(p.jsx)(I,{label:"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",value:pe,setValue:function(e){/[a-z0-9]/gi.test(e)||(me(e.charAt(0).toUpperCase()+e.slice(1)),At(e.charAt(0).toUpperCase()+e.slice(1)))},disabled:!J,type:"text",valid:pe&&pe.length>0}),J&&_t.length<1&&Object(p.jsxs)("div",{className:Ie.a.snameLabel,children:[Object(p.jsx)("input",{type:"checkbox",checked:!Ot,disabled:!J,style:{paddingRight:"15px",paddingBottom:"20px"},onChange:function(){xt(!Ot),me(Ot?"":_t)}}),"\u041d\u0435\u0442 \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u0430?"]})]}),Object(p.jsx)("div",{className:Ie.a.formInput,children:Object(p.jsx)(I,{valid:De&&-1===De.toString().indexOf("_")&&De.length>0,disabled:!J,value:De,dateType:!0,type:"text",setValue:function(e){Le(e)},label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f*"})}),Object(p.jsx)("div",{className:Ie.a.formInput,children:Object(p.jsx)(I,{valid:void 0!==_e&&le.a.validate(_e,{minDomainAtoms:2}),value:_e,setValue:function(e){/[\u0430-\u044f]/gi.test(e)||ke(e)},label:"E-mail*",disabled:!J,type:"email",name:"email"})}),Object(p.jsx)("div",{className:Ie.a.formInput,children:Object(p.jsx)(ce,{value:Oe,label:"\u041d\u043e\u043c\u0435\u0440 \u0441\u043e\u0442\u043e\u0432\u043e\u0433\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430*",setValue:xe,disabled:!J,valid:k})}),!k&&Object(p.jsx)(d.b,{className:Ie.a.PhoneConfirm,to:"/phone-confirm",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440"})]}),Object(p.jsxs)("div",{className:Ie.a.selects,children:[Object(p.jsx)("div",{className:Ie.a.formSelect,children:Object(p.jsx)(re,{value:Fe,disabled:!0,setValue:Re,label:"\u0421\u0442\u0430\u0442\u0443\u0441*",options:Je,name:"role"})}),Object(p.jsx)("div",{className:Ie.a.formSelect,children:Object(p.jsx)(re,{value:Se,disabled:!0,setValue:Ce,label:"\u0412\u0423\u0417*",options:ze,name:"institute"})}),J&&Object(p.jsx)("div",{children:pt?Object(p.jsx)(Y.a,{type:"Bars",color:"#247ABF",height:30,width:30}):Object(p.jsx)("button",{className:""!==ne&&ne.length>=1&&Be(ne)&&""!==ue&&ue.length>=1&&Be(ue)&&le.a.validate(_e,{minDomainAtoms:2})&&-1===De.indexOf("_")?Ie.a.update_pass:Ie.a.disabled_pass,onClick:Et,disabled:!(""!==ne&&ne.length>=1&&Be(ne)&&""!==ue&&ue.length>=1&&Be(ue)&&le.a.validate(_e,{minDomainAtoms:2})&&-1===De.indexOf("_")&&!pt),children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{onClick:function(){return X((function(e){return!e}))},className:Ie.a.update_pass,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})}),z&&Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:Ie.a.formInput,children:Object(p.jsx)(I,{EyeOpen:!0,valid:""!==C&&C.match(/^(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z]).{6,}$/),value:C,setValue:function(e){e.length<=28&&N(e)},password:!0,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c*",type:"text",name:"password"})}),Object(p.jsx)("div",{className:Ie.a.formInput,children:Object(p.jsx)(I,{EyeOpen:!0,valid:""!==B&&B.length>=6&&B.match(/^(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z]).{6,}$/),value:B,setValue:function(e){e.length<=200&&R(e)},password:!0,label:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c*",type:"text",name:"password"})}),Object(p.jsx)("div",{className:Ie.a.formInput,children:Object(p.jsx)(I,{EyeOpen:!0,valid:""!==D&&D===B&&D.length>=6&&D.match(/^(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z]).{6,}$/),value:D,setValue:function(e){e.length<=200&&L(e)},password:!0,label:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c*",type:"text",name:"password"})}),B.length>0&&!B.match(/^(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z]).{6,}$/)&&Object(p.jsxs)("ul",{className:Ie.a.passwordRequirements,children:[Object(p.jsx)("li",{children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438\u043b\u0438 \u0431\u043e\u043b\u0435\u0435."}),Object(p.jsx)("li",{children:"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0430, \u0442\u0438\u0440\u0435, \u0442\u043e\u0447\u043a\u0438. \u041f\u0440\u043e\u0431\u0435\u043b\u044b \u043d\u0435 \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b."}),Object(p.jsx)("li",{children:"\u0422\u0430\u043a\u0436\u0435 1 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0438 1 \u043f\u0440\u043e\u043f\u0438\u0441\u043d\u0443\u044e"})]}),Object(p.jsx)("div",{children:yt?Object(p.jsx)(Y.a,{type:"Bars",color:"#247ABF",height:30,width:30}):Object(p.jsx)("button",{className:Ie.a.update_pass,disabled:!(""!==C&&C.length>=6&&C.length<=28&&""!==B&&B.length>=6&&B.length<=28&&""!==D&&D.length>=6&&D.length<=28&&B===D),onClick:Rt,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})]}),Object(p.jsx)(F,{open:u,close:function(){return b(!1)},title:c,text:h,BtnClick:function(){return b(!1)},buttonTitle:"\u041e\u043a"})]})})},Re=function(){var e=Object(n.useState)("\u041e\u0448\u0438\u0431\u043a\u0430"),t=Object(A.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(A.a)(s,2),o=c[0],i=c[1],l=Object(n.useState)(!1),u=Object(A.a)(l,2),b=u[0],j=u[1],h=Object(n.useState)(!1),f=Object(A.a)(h,2),x=f[0],v=f[1],k=Object(n.useState)(""),w=Object(A.a)(k,2),P=w[0],S=w[1];return b?Object(p.jsx)(O.a,{to:"/login"}):Object(p.jsxs)("div",{className:E.a.base_container,children:[Object(p.jsx)(H,{to:"/login"}),Object(p.jsx)("div",{className:E.a.header,children:"\u0412\u043ecc\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(p.jsxs)("div",{className:E.a.content,children:[Object(p.jsx)("div",{className:E.a.label,children:Object(p.jsx)("label",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 E-mail"})}),Object(p.jsx)("div",{className:E.a.formInput,children:Object(p.jsx)(I,{enterInput:!0,type:"text",name:"login",value:o,setValue:function(e){/[\u0430-\u044f]/gi.test(e)||i(e)},valid:le.a.validate(o,{minDomainAtoms:2})})}),Object(p.jsx)(m,{className:E.a.nextBtn,disabled:!le.a.validate(o,{minDomainAtoms:2}),onclick:Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("persident/pwdrecover",[["email",o]]);case 3:"error"!==(t=e.sent).status?(v(!0),r("\u0423\u0441\u043f\u0435\u0448\u043d\u043e"),S("\u041d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443 \u0431\u044b\u043b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"),i("")):(v(!0),S(t.errordesc),r("\u041e\u0448\u0438\u0431\u043a\u0430")),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),v(!0),S(e.t0),r("\u041e\u0448\u0438\u0431\u043a\u0430");case 12:case"end":return e.stop()}}),e,null,[[0,7]])}))),children:"\u0414\u0430\u043b\u0435\u0435"})]}),Object(p.jsxs)("div",{className:E.a.regBtn,children:[Object(p.jsx)("label",{className:E.a.passLink2,children:"\u041d\u0435\u0442 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438?"}),Object(p.jsx)(d.b,{to:"/registration",className:E.a.registration,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(p.jsx)(F,{open:x,close:function(){return v(!1)},title:a,text:P,BtnClick:function(){v(!1),j(!0)},buttonTitle:"\u041e\u043a"})]})},Ee=a(15),Te=a.n(Ee),De=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},Le=function(){var e=Object(O.f)(),t=Object(n.useState)(!1),a=Object(A.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),o=Object(A.a)(c,2),i=(o[0],o[1]),l=Object(n.useState)(),u=Object(A.a)(l,2),d=u[0],b=u[1],j=Object(n.useState)(!1),m=Object(A.a)(j,2),h=(m[0],m[1]),f=Object(n.useState)(!1),x=Object(A.a)(f,2),v=x[0],k=x[1],w=Object(n.useState)(""),P=Object(A.a)(w,2),S=(P[0],P[1]),C=Object(n.useState)(null),N=Object(A.a)(C,2),y=N[0],I=N[1],K=Object(n.useState)(!1),B=Object(A.a)(K,2),R=(B[0],B[1],Object(n.useState)(3)),E=Object(A.a)(R,2),T=E[0],D=E[1],L=Object(n.useState)(!1),U=Object(A.a)(L,2),z=U[0],X=U[1],Q=Object(n.useState)(""),V=Object(A.a)(Q,2),J=V[0],W=V[1],Z=Object(n.useState)(""),G=Object(A.a)(Z,2),Y=G[0],$=G[1],ee=Object(n.useState)(!1),te=Object(A.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(null),se=Object(A.a)(re,2),ce=se[0],oe=se[1],ie=Object(n.useState)([]),le=Object(A.a)(ie,2),ue=le[0],de=le[1],be=Object(n.useRef)(null),pe=null,me=Object(n.useState)(null),he=Object(A.a)(me,2),fe=he[0],xe=he[1],ve=Object(n.useState)(""),ge=Object(A.a)(ve,2),we=ge[0],Pe=ge[1];Object(n.useEffect)((function(){Ne()}),[we]);var Se=function(){var e=Object(_.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(!0),e.prev=1,e.next=4,M.postAuth("persident/folkimgext",[["img64",t],["faceid",ue[a].faceid||""]]);case 4:"success"===(n=e.sent).status||("success"!==n.status?(ne(!0),W("\u041e\u0448\u0438\u0431\u043a\u0430"),$(n.errordesc)):console.log(n)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),W("\u041e\u0448\u0438\u0431\u043a\u0430"),$(String(e.t0)),ne(!0);case 13:Ne();case 14:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Ce=function(){var t=Object(_.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.postToken("persident/folkreftok");case 2:a=t.sent,localStorage.setItem("token",a.tid),localStorage.setItem("rtoken",a.rtid),"error"===a.status&&e.push("/login");case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ne=function(){var t=Object(_.a)(g.a.mark((function t(){var a,n,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return X(!0),t.prev=1,t.next=4,M.getAuth("persident/folkimg");case 4:if("success"!==(a=t.sent).status){t.next=13;break}return oe(a.imagedesc),t.next=9,M.getAuth("persident/folkimgext");case 9:"success"===(n=t.sent).status&&(r=[],n.photos.length>=2?r=n.photos:1===n.photos.length?(r=n.photos).push({base64:"",faceid:""}):r.push({base64:"",faceid:""}),de(r)),t.next=20;break;case 13:if(!localStorage.getItem("rtoken")){t.next=19;break}return t.next=16,Ce();case 16:Pe("mainPhotoRes"),t.next=20;break;case 19:e.push("/login");case 20:"success"===a.status&&oe(a.imagedesc),X(!1),t.next=29;break;case 24:t.prev=24,t.t0=t.catch(1),W("\u041e\u0448\u0438\u0431\u043a\u0430"),$(t.t0),ne(!0);case 29:case"end":return t.stop()}}),t,null,[[1,24]])})));return function(){return t.apply(this,arguments)}}();var ye=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.currentTarget.files[0],n={maxSizeMB:1,maxWidthOrHeight:1080},e.prev=2,e.next=5,Object(ke.a)(a,n);case 5:return r=e.sent,e.next=8,De(r).catch((function(e){return Error(e)}));case 8:s=e.sent,I(s),k(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:Te.a.base_container,children:[Object(p.jsx)(H,{to:"/profile"}),v&&Object(p.jsx)(_e,{img:y,callBackFunc:function(){return k(!1)},updateCropped:function(e){S(e),Se(sessionStorage.getItem("recoverPhoto"),fe)}}),Object(p.jsx)("img",{src:Ae,className:Te.a.lines,alt:"CoolLines"}),Object(p.jsx)("div",{className:Te.a.header,children:"\u041c\u043e\u0438 \u0444\u043e\u0442\u043e"}),Object(p.jsx)("div",{children:ce&&Object(p.jsx)("img",{className:Te.a.mainImage,src:ce,alt:"nophoto"})}),Object(p.jsxs)("div",{className:Te.a.grid,children:[ue.map((function(e,t){return Object(p.jsxs)("div",{className:Te.a.extPhotoItem,children:[r&&t===d?Object(p.jsx)("div",{className:Te.a.ImageDiv,children:Object(p.jsx)(Oe.a,{screenshotQuality:"1",screenshotFormat:"image/jpeg",className:Te.a.image,ref:be,playsInline:!0,minScreenshotHeight:720})}):Object(p.jsx)("div",{className:Te.a.ImageDiv,children:Object(p.jsx)("img",{className:Te.a.image,src:e.base64||je,alt:"nophoto"})}),Object(p.jsx)("div",{className:Te.a.options,children:r&&d===t?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:T}),Object(p.jsx)("button",{className:Te.a.update,onClick:function(){!function(){var e=T;h(!0);var t=setInterval((function(){if(1===e){var a=be.current.getScreenshot();sessionStorage.setItem("extPhoto",a),S(a),h(!1),s(!1),i(!0),b(),clearInterval(t),Se(a,d)}else D((function(e){return e-1})),e-=1}),1e3)}()},children:"\u0421\u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{type:"button",className:Te.a.update,onClick:Object(_.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return X(!0),t.next=3,M.MakeExtImgAsMain("persident/folkimgext?faceid="+e.faceid);case 3:sessionStorage.setItem("mainPhoto",e.base64),Ne();case 5:case"end":return t.stop()}}),t)}))),children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0433\u043b\u0430\u0432\u043d\u043e\u0439"}),Object(p.jsx)("button",{type:"button",className:Te.a.update,onClick:function(){xe(t),pe.click()},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"}),Object(p.jsx)("button",{type:"button",onClick:function(){s(!0),D(3),b(t)},className:Te.a.update,children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e"}),Object(p.jsx)("button",{onClick:function(){var t=Object(_.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M.deletePhoto("persident/folkimgext?faceid=".concat(e.faceid));case 3:"error"!==(n=t.sent).status?(ne(!0),W("\u0423\u0441\u043f\u0435\u0448\u043d\u043e"),Ne()):(W("\u041e\u0448\u0438\u0431\u043a\u0430"),ne(!0),$(n.errordesc)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),className:Te.a.update,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]},e.faceid)})),Object(p.jsx)("a",{className:Te.a.photoInstruction,href:"/photo-instruction.pdf",target:"_blank",children:"\u041a\u0430\u043a \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0444\u043e\u0442\u043e"})]}),Object(p.jsx)(F,{open:ae,close:function(){return ne(!1)},title:J,text:Y,BtnClick:function(){return ne(!1)},buttonTitle:"\u041e\u043a"}),Object(p.jsx)(q,{show:z}),Object(p.jsx)("input",{onChange:ye,style:{display:"none"},type:"file",ref:function(e){return pe=e},accept:"image/x-png,image/gif,image/jpeg"})]})},He=a(57),Ue=a.n(He),ze=function(){var e=Object(n.useState)(!1),t=Object(A.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(A.a)(s,2),o=c[0],i=c[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){var e=Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("persident/folkactivate",[["key","".concat(window.location.href.split("key=")[1])]]);case 3:"error"!==(t=e.sent).status||(r(!0),i(t.errordesc),console.log(t)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r(!0),i(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)("div",{className:Ue.a.base_container,children:[Object(p.jsx)("div",{className:Ue.a.header,children:"\u0412\u0430\u0448\u0430 \u0443\u0447\u0435\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430"}),Object(p.jsxs)("div",{className:Ue.a.content,children:[Object(p.jsx)("center",{children:Object(p.jsx)("div",{style:{marginTop:41,marginBottom:65,width:111,height:111,borderRadius:128,backgroundColor:"#247ABF"},children:Object(p.jsx)("img",{style:{width:48,height:65,marginTop:24},src:Pe,alt:"ok"})})}),Object(p.jsx)(m,{to:"/login",children:"\u0414\u0430\u043b\u0435\u0435"}),Object(p.jsx)(F,{open:a,close:function(){return r(!1)},title:"\u041e\u0448\u0438\u0431\u043a\u0430",text:o,BtnClick:function(){return r(!1)},buttonTitle:"\u041e\u043a"})]})]})},Xe=a(21),Qe=a.n(Xe),Ve=a(70),Je=a.n(Ve),Me=a(129);function We(){var e,t=Object(O.f)(),a=Object(n.useState)(!0),r=Object(A.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(!1),i=Object(A.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)(!1),b=Object(A.a)(d,2),j=b[0],m=b[1],h=Object(n.useState)(""),f=Object(A.a)(h,2),x=f[0],v=f[1],w=Object(n.useState)(!1),P=Object(A.a)(w,2),S=P[0],C=P[1],N=Object(n.useState)(),y=Object(A.a)(N,2),I=y[0],K=y[1],B=Object(n.useState)(),R=Object(A.a)(B,2),E=R[0],T=R[1],D=Object(n.useState)(),L=Object(A.a)(D,2),U=L[0],z=L[1],X=Object(n.useState)(sessionStorage.getItem("phoneConfirm")||""),Q=Object(A.a)(X,2),V=Q[0],J=Q[1],W=Object(n.useState)(""),Z=Object(A.a)(W,2),G=Z[0],Y=Z[1],$=Object(n.useState)(30),ee=Object(A.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(A.a)(ne,2),se=re[0],oe=re[1];function ie(){return(ie=Object(_.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getAuth("persident/folkdata");case 2:if("error"===(a=e.sent).status&&t.push("/login"),"success"!==a.status){e.next=16;break}if(J(null===a||void 0===a?void 0:a.phone),sessionStorage.setItem("phoneConfirm",null===a||void 0===a?void 0:a.phone),u(!1),c(!1),ae(30),"0"!==a.phone_approve){e.next=15;break}return e.next=13,M.getAuth("persident/phoneapprove?sendkod=true");case 13:e.next=16;break;case 15:"1"===a.phone_approve&&t.push("/profile");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(){var e=Object(_.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),u(!0),e.next=4,M.postAuth("persident/folkedit",[["folk","{phone:".concat(t.replace(/\D/g,""),"}")]]);case 4:if("success"!==(a=e.sent).status){e.next=16;break}return ae(30),c(!1),u(!1),J(x),C(!1),oe(!1),e.next=14,M.getAuth("persident/phoneapprove?sendkod=true");case 14:e.next=19;break;case 16:T(a.errordesc),K(!0),oe(!1);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(_.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.postAuth("persident/phoneapprove",[["kod",G]]);case 3:"error"!==(a=e.sent).status||t.push("/profile"),"succes"===a.status&&(z("\u0423\u0441\u043f\u0435\u0448\u043d\u043e"),T(a.desc),K(!0),t.push("/profile")),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("error: ",e.t0),Y(""),K(!0),T(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)((function(){!function(){ie.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){4===G.length&&ue()}),[G]),Object(n.useEffect)((function(){var e=te>0?setInterval((function(){return ae(te-1)}),1e3):m(!0);return function(){return clearInterval(e)}}),[te]),s)return Object(p.jsx)(q,{show:s});return Object(p.jsxs)("div",{className:"inputbox",children:[Object(p.jsx)(H,{to:"/profile"}),Object(p.jsx)("h1",{className:Qe.a.Header,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434"}),Object(p.jsx)(Je.a,Object(k.a)({type:"number",onChange:function(e){Y(e.replace("/[0-9]/",""))},fields:4,disabled:4===G.length,placeholder:"_"},{inputStyle:{background:" #F2F2F2",borderRadius:"26px 26px 5px 26px",border:"none",width:"61px",height:"60px",color:"#2c2c2c",margin:"0 9px",fontSize:"34px",lineHeight:"38px",textAlign:"center"}})),Object(p.jsxs)("div",{className:Qe.a.ResendContainer,children:[Object(p.jsxs)("span",{className:Qe.a.ResendText,children:["\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0434 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e ",!j&&"(".concat(te,")")]}),j?Object(p.jsx)("button",{onClick:Object(_.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getAuth("persident/phoneapprove?sendkod=true");case 2:ae(30),m(!1);case 4:case"end":return e.stop()}}),e)}))),className:Qe.a.ResendButton,children:"\u041d\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u043a\u043e\u0434?"}):Object(p.jsx)("p",{className:Qe.a.ResendEmptyP,children:"\u041d\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u043a\u043e\u0434?"})]}),Object(p.jsx)("p",{children:"\u041a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0432\u0430\u043c \u043d\u0430 \u043d\u043e\u043c\u0435\u0440:"}),!l&&V?Object(p.jsx)("p",{className:Qe.a.Phone,children:null===(e=Object(Me.a)(V,"RU"))||void 0===e?void 0:e.formatInternational()}):Object(p.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),Object(p.jsxs)("div",{className:Qe.a.RefreshPhoneContainer,children:[Object(p.jsx)("p",{className:Qe.a.RefreshLabel,children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440?"}),Object(p.jsx)("button",{type:"button",className:Qe.a.ChangePhone,onClick:function(){return C(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]}),S&&Object(p.jsxs)("div",{children:[Object(p.jsx)(ce,{placeholder:"+7 000 000 0000",value:x,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440",setValue:v}),Object(p.jsx)("button",{className:11===x.replace(/\D/g,"").length?Qe.a.refreshButton:Qe.a.disabledButton,disabled:11!==x.replace(/\D/g,"").length&&!0,onClick:function(){oe(!0),le(x.replace(/\D/g,""))},children:se?"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435":"\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d"})]}),Object(p.jsx)(F,{open:I,close:function(){return K(!1)},title:U,text:E,BtnClick:function(){return K(!1)},buttonTitle:"\u041e\u043a"})]})}var Ze=function(){return Object(p.jsx)("div",{className:"app-wrapper",children:Object(p.jsx)("div",{className:"app-wrapper-content",children:Object(p.jsxs)(d.a,{children:[Object(p.jsx)(O.b,{path:"/my-photos",component:Le}),Object(p.jsx)(O.b,{path:"/profile",component:Fe}),Object(p.jsx)(O.b,{path:"/confirm-email",component:ze}),Object(p.jsx)(O.b,{path:"/success",component:Ne}),Object(p.jsx)(O.b,{path:"/confirm-registration",component:we}),Object(p.jsx)(O.b,{path:"/registration",component:be}),Object(p.jsx)(O.b,{path:"/recover-password",component:Re}),Object(p.jsx)(O.b,{path:"/phone-confirm",component:We}),Object(p.jsx)(O.b,{path:"/login",component:$}),Object(p.jsx)(O.b,{path:"/",exact:!0,component:x})]})})})};s.a.render(Object(p.jsx)(Ze,{}),document.getElementById("root"))},15:function(e,t,a){e.exports={header:"MyPhotos_header__yxJ6u",image:"MyPhotos_image__tPUrb",video:"MyPhotos_video__2TJna",lines:"MyPhotos_lines__kx_xJ",mainImage:"MyPhotos_mainImage__3yDM7",grid:"MyPhotos_grid__Ta4yt",photoInstruction:"MyPhotos_photoInstruction__33ovV",extPhotoItem:"MyPhotos_extPhotoItem__6IQze",ImageDiv:"MyPhotos_ImageDiv__pNUg8",options:"MyPhotos_options__2Jj1T",update:"MyPhotos_update__2E5hC",timer:"MyPhotos_timer__2qVTY"}},21:function(e,t,a){e.exports={inputbox:"ConfirmPhone_inputbox__3T22M",label:"ConfirmPhone_label__2xEbd",RefreshPhoneContainer:"ConfirmPhone_RefreshPhoneContainer__1Bicg",ResendContainer:"ConfirmPhone_ResendContainer__2a0Jj",Header:"ConfirmPhone_Header__2iVqe",ResendText:"ConfirmPhone_ResendText__s1HdX",ResendEmptyP:"ConfirmPhone_ResendEmptyP__1BRTe",ResendButton:"ConfirmPhone_ResendButton__2GcfC",RefreshLabel:"ConfirmPhone_RefreshLabel__17lqz",Phone:"ConfirmPhone_Phone__1M-iQ",refreshButton:"ConfirmPhone_refreshButton__3yc1d",disabledButton:"ConfirmPhone_disabledButton__1Ygsj",ChangePhone:"ConfirmPhone_ChangePhone__dhPf4"}},24:function(e,t,a){e.exports={base_container:"Enter_Fin_base_container__1dOcp",content:"Enter_Fin_content__1L8Hl",image:"Enter_Fin_image__5FIyE",faceelook:"Enter_Fin_faceelook__2LxFF",tsuLogo:"Enter_Fin_tsuLogo__1tozg",log_in:"Enter_Fin_log_in__3ABQq",log_in_tsu:"Enter_Fin_log_in_tsu__pc-Tm",log_in_with:"Enter_Fin_log_in_with__4BMm2",regBtn:"Enter_Fin_regBtn__2aBwf",enterBtn:"Enter_Fin_enterBtn__72O2K",sber_icon:"Enter_Fin_sber_icon__2sZ5u",log_in_cber:"Enter_Fin_log_in_cber__1FYaq"}},28:function(e,t,a){e.exports={imageCropper:"Cropper_imageCropper__2QqOE",CropperContainer:"Cropper_CropperContainer__j7WAe",croppedImage:"Cropper_croppedImage__3G5hE",buttonClass:"Cropper_buttonClass__2NDhb"}},37:function(e,t,a){e.exports={modalContainer:"Modal_modalContainer__2ER2N",modalCard:"Modal_modalCard__3cfLl",modalContent:"Modal_modalContent__1rYYD",modalData:"Modal_modalData__3XJe8",button:"Modal_button__2O7k8"}},38:function(e,t,a){e.exports={base_container:"Success_base_container__2nH-S",header:"Success_header__1HCSh",label1:"Success_label1__3IzQH",label2:"Success_label2__11ZJ8"}},55:function(e,t,a){e.exports={button:"Button_button__3QF_k",disabled:"Button_disabled__2c3jr",Btn_native:"Button_Btn_native__jXm9Z"}},56:function(e,t,a){e.exports={select:"Select_select__3UVD7",select_container:"Select_select_container__8vYCr",label:"Select_label__3tAIC"}},57:function(e,t,a){e.exports={header:"ConfirmAccountFromMail_header__1XVcp"}},61:function(e,t,a){e.exports={rotating:"Spinner_rotating__1AVxB",preloader:"Spinner_preloader__2Ierl"}},67:function(e,t,a){e.exports={back:"Back_back__wkzGG"}},79:function(e,t,a){},8:function(e,t,a){e.exports={header:"Profile_header__1YtEW",links:"Profile_links__3rwH3",uface:"Profile_uface__28PCS",cabinetText:"Profile_cabinetText__2qx9Y",closeBtn:"Profile_closeBtn__2KbcS",closeImg:"Profile_closeImg__1mw_K",snameLabel:"Profile_snameLabel__37fLX",passwordRequirements:"Profile_passwordRequirements__ecm3C",disSnameLabel:"Profile_disSnameLabel__28vKO",my_profile:"Profile_my_profile__1r4KG",inputs:"Profile_inputs__3Hom1",formInput:"Profile_formInput__1viOZ",formSelect:"Profile_formSelect__31vdx",photo:"Profile_photo__3Wuvm",lines:"Profile_lines__K-0WG",PhoneConfirm:"Profile_PhoneConfirm__XbMnK",options:"Profile_options__2rDpk",update:"Profile_update__3hBTs",update_pass:"Profile_update_pass__33TRe",disabled_pass:"Profile_disabled_pass__2smBk",buttons:"Profile_buttons__2cl45",code_span:"Profile_code_span__erJ-l"}},80:function(e,t,a){},9:function(e,t,a){e.exports={input:"Input_input__3PNbO",input_native:"Input_input_native__O0-uY",inputPasswordOpen:"Input_inputPasswordOpen__2e6la",inputPasswordClose:"Input_inputPasswordClose__2_h1B",enterPasswordOpen:"Input_enterPasswordOpen__1DTjS",enterPasswordClose:"Input_enterPasswordClose__3Syr6",enterInput:"Input_enterInput__A7l6H",valid_icon:"Input_valid_icon__1laeC",eye:"Input_eye__20hku",eyeButton:"Input_eyeButton__1iWhp",label:"Input_label__z-LP7"}}},[[124,1,2]]]);
//# sourceMappingURL=main.9902d0db.chunk.js.map